# AI ç´«å¾®æ–—æ•° Pro

ä¸€ä¸ªåŸºäº Streamlit å’Œ Node.js çš„æ™ºèƒ½ç´«å¾®æ–—æ•°å‘½ç†åˆ†æåº”ç”¨ï¼Œé›†æˆ AI å‘½ç†å¸ˆåŠŸèƒ½ã€‚

## âœ¨ åŠŸèƒ½ç‰¹ç‚¹

- ğŸ“Š **ç´«å¾®æ–—æ•°æ’ç›˜** - å®Œæ•´çš„å‘½ç›˜è®¡ç®—ä¸å±•ç¤º
- ğŸ¤– **AI å‘½ç†å¸ˆ** - é›†æˆå¤šä¸ª AI æ¨¡å‹ï¼ˆqwen3-max, deepseek-v3.2, glm-4.7, kimi-k2.5ï¼‰
- ğŸ“± **å“åº”å¼è®¾è®¡** - å®Œç¾é€‚é…ç”µè„‘ç«¯å’Œæ‰‹æœºç«¯
- ğŸ’¾ **å¯¹è¯å†å²** - æ”¯æŒä¿å­˜å’ŒåŠ è½½èŠå¤©è®°å½•
- ğŸ¨ **ç¾è§‚ç•Œé¢** - 4x4 å‘½ç›˜å¸ƒå±€ï¼Œä¸­å®«å±…ä¸­ï¼Œå‚è€ƒæ–‡å¢¨å¤©æœºè®¾è®¡

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **Streamlit** - Python Web åº”ç”¨æ¡†æ¶
- **OpenAI API** - é˜¿é‡Œäº‘ç™¾ç‚¼å…¼å®¹æ¥å£

### åç«¯
- **Node.js** - ç´«å¾®æ–—æ•°è®¡ç®—æœåŠ¡
- **Express** - Web API æ¡†æ¶
- **iztro** - ç´«å¾®æ–—æ•°è®¡ç®—åº“

### éƒ¨ç½²
- **Streamlit Cloud** - å‰ç«¯åº”ç”¨éƒ¨ç½²
- **Render** - Node.js API éƒ¨ç½²

## ğŸ“ é¡¹ç›®ç»“æ„

```
ziwei_project/
â”œâ”€â”€ app.py                    # Streamlit ä¸»åº”ç”¨å…¥å£
â”œâ”€â”€ app_old.py                # æ—§ç‰ˆæœ¬å¤‡ä»½
â”œâ”€â”€ requirements.txt          # Python ä¾èµ–
â”œâ”€â”€ package.json              # Node.js ä¾èµ–
â”œâ”€â”€ render.yaml              # Render éƒ¨ç½²é…ç½®
â”œâ”€â”€ DEPLOYMENT.md            # éƒ¨ç½²æŒ‡å—
â”œâ”€â”€ .streamlit/              # Streamlit é…ç½®
â”‚   â”œâ”€â”€ config.toml
â”‚   â””â”€â”€ secrets.toml.example
â”œâ”€â”€ src/                     # æºä»£ç æ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ config.py           # é…ç½®ä¸å¸¸é‡ï¼ˆCSSã€å››åŒ–è¡¨ç­‰ï¼‰
â”‚   â”œâ”€â”€ calculations.py     # çœŸå¤ªé˜³æ—¶ã€æ—¶è¾°è®¡ç®—
â”‚   â”œâ”€â”€ api_client.py       # API å®¢æˆ·ç«¯ï¼ˆNode.js APIã€OpenAIï¼‰
â”‚   â”œâ”€â”€ prompts.py          # AI æç¤ºè¯ç”Ÿæˆ
â”‚   â”œâ”€â”€ ui_components.py    # UI ç»„ä»¶ï¼ˆå‘½ç›˜æ¸²æŸ“ï¼‰
â”‚   â”œâ”€â”€ server.js           # Node.js API æœåŠ¡
â”‚   â””â”€â”€ solar_time_calculator.py
â”œâ”€â”€ data/
â”‚   â””â”€â”€ ziwei_data.json
â””â”€â”€ tests/                   # æµ‹è¯•æ–‡ä»¶ï¼ˆå·²åˆ é™¤ï¼‰
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Python 3.8+
- Node.js 16+
- npm æˆ– yarn

### æœ¬åœ°è¿è¡Œ

#### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/Gabriel2git/ziwei-app.git
cd ziwei-app
```

#### 2. å®‰è£… Python ä¾èµ–

```bash
pip install -r requirements.txt
```

#### 3. å®‰è£… Node.js ä¾èµ–

```bash
npm install
```

#### 4. å¯åŠ¨ Node.js API æœåŠ¡

```bash
node src/server.js
```

API æœåŠ¡å°†åœ¨ http://localhost:3000 å¯åŠ¨

#### 5. å¯åŠ¨ Streamlit åº”ç”¨

```bash
streamlit run app.py
```

åº”ç”¨å°†åœ¨ http://localhost:8501 æ‰“å¼€

### ç¯å¢ƒå˜é‡é…ç½®

åœ¨ Streamlit Cloud æˆ–æœ¬åœ° `.streamlit/secrets.toml` ä¸­é…ç½®ï¼š

```toml
ZIWEI_API_URL = "https://your-api-url.com/api/ziwei"
DASHSCOPE_API_KEY = "your-dashscope-api-key"
```

## ğŸ“± ä½¿ç”¨è¯´æ˜

### 1. è¾“å…¥å‡ºç”Ÿä¿¡æ¯
- é€‰æ‹©å†æ³•ï¼ˆå…¬å†/å†œå†ï¼‰
- è¾“å…¥å‡ºç”Ÿæ—¥æœŸ
- é€‰æ‹©å‡ºç”Ÿæ—¶é—´
- é€‰æ‹©æ€§åˆ«

### 2. å¼€å§‹æ’ç›˜
ç‚¹å‡»ã€ŒğŸš€ å¼€å§‹æ’ç›˜ã€æŒ‰é’®ç”Ÿæˆå‘½ç›˜

### 3. æŸ¥çœ‹å‘½ç›˜
- 4x4 ç½‘æ ¼å¸ƒå±€æ˜¾ç¤ºåäºŒå®«
- ä¸­å®«æ˜¾ç¤ºåŸºæœ¬ä¿¡æ¯ï¼ˆçœŸå¤ªé˜³æ—¶ã€é’Ÿè¡¨æ—¶é—´ã€å†œå†ç­‰ï¼‰
- æ”¯æŒé€‰æ‹©å¤§é™å’Œæµå¹´

### 4. AI å‘½ç†å’¨è¯¢
- åˆ‡æ¢åˆ°ã€ŒAI å‘½ç†å’¨è¯¢å¸ˆã€é¡µé¢
- è¾“å…¥é—®é¢˜ï¼ŒAI å°†åŸºäºå‘½ç›˜è¿›è¡Œåˆ†æ
- æ”¯æŒä¿å­˜å’ŒåŠ è½½å¯¹è¯å†å²

## ğŸ›ï¸ ä»£ç é‡æ„è¯´æ˜

æœ¬é¡¹ç›®é‡‡ç”¨**å…³æ³¨ç‚¹åˆ†ç¦»**åŸåˆ™è¿›è¡Œé‡æ„ï¼š

### æ¨¡å—èŒè´£

| æ¨¡å— | èŒè´£ |
|------|------|
| `src/config.py` | CSS æ ·å¼ã€å¸¸é‡ã€å››åŒ–è¡¨ã€å¤©å¹²åœ°æ”¯ |
| `src/calculations.py` | çœŸå¤ªé˜³æ—¶è®¡ç®—ã€æ—¶è¾°è½¬æ¢ |
| `src/api_client.py` | Node.js API è°ƒç”¨ã€OpenAI API è°ƒç”¨ |
| `src/prompts.py` | å‘½ç›˜æ•°æ®è§£æã€AI æç¤ºè¯ç”Ÿæˆ |
| `src/ui_components.py` | å‘½ç›˜ HTML æ¸²æŸ“ã€UI ç»„ä»¶ |
| `app.py` | ä¸»å…¥å£ã€é¡µé¢æµç¨‹æ§åˆ¶ |

## ğŸŒ äº‘ç«¯éƒ¨ç½²

è¯¦ç»†éƒ¨ç½²æŒ‡å—è¯·å‚è€ƒ [DEPLOYMENT.md](./DEPLOYMENT.md)

### éƒ¨ç½²æ¶æ„

```
Streamlit Cloud (app.py)
    â†“ HTTP è¯·æ±‚
Render Node.js API (src/server.js)
```

### å¿«é€Ÿéƒ¨ç½²é“¾æ¥

- **Streamlit Cloud**: https://share.streamlit.io
- **Render**: https://render.com

## ğŸ“ æ›´æ–°æ—¥å¿—

### v2.0.0 (2026-02-16)
- âœ… ä»£ç é‡æ„ï¼šé‡‡ç”¨å…³æ³¨ç‚¹åˆ†ç¦»åŸåˆ™
- âœ… æ‹†åˆ†å¤šä¸ªæ¨¡å—ï¼šconfig, calculations, api_client, prompts, ui_components
- âœ… è°ƒæ•´å·¦ä¾§æ æœ€å°å®½åº¦ï¼Œæ–¹ä¾¿æ‹–åŠ¨
- âœ… åˆ é™¤ä¸éœ€è¦çš„æµ‹è¯•æ–‡ä»¶

### v1.0.0
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- å®Œæ•´çš„ç´«å¾®æ–—æ•°æ’ç›˜åŠŸèƒ½
- AI å‘½ç†å¸ˆé›†æˆ
- å“åº”å¼è®¾è®¡

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

ISC License

## ğŸ™ è‡´è°¢

- [iztro](https://github.com/sylarlong/iztro) - ç´«å¾®æ–—æ•°è®¡ç®—åº“
- [Streamlit](https://streamlit.io) - Python Web æ¡†æ¶
- [é˜¿é‡Œäº‘ç™¾ç‚¼](https://bailian.console.aliyun.com) - AI æ¨¡å‹æœåŠ¡

---

**æ³¨æ„**ï¼šæœ¬åº”ç”¨ä»…ä¾›å¨±ä¹å’Œç ”ç©¶ä½¿ç”¨ï¼Œå‘½ç†åˆ†æç»“æœä¸æ„æˆä»»ä½•å†³ç­–å»ºè®®ã€‚
